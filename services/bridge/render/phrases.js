const PRE_EVENT = {
  high: [
    { first: "â³ Ð§ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚ Ð²Ñ‹Ñ…Ð¾Ð´ÑÑ‚ Ð²Ð°Ð¶Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð½Ð°Ñ‡Ð¸Ð½Ð°ÐµÑ‚ Ñ€ÐµÐ°Ð³Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ." },
    { first: "â³ Ð§ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚ Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ñ Ð·Ð½Ð°Ñ‡Ð¸Ð¼Ð¾Ð¹ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ¸.", second: "Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ Ð¾Ð¶Ð¸Ð²Ð»ÐµÐ½Ð¸Ðµ Ð½Ð° Ñ€Ñ‹Ð½ÐºÐµ." },
    { first: "â³ Ð§ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚ Ð²Ñ‹Ñ…Ð¾Ð´ ÐºÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ñ… Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÐµÐ»ÐµÐ¹.", second: "Ð”Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ Ð¼Ð¾Ð³ÑƒÑ‚ ÑÑ‚Ð°Ñ‚ÑŒ Ð°ÐºÑ‚Ð¸Ð²Ð½ÐµÐµ." },
    { first: "â³ Ð§ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚ Ð¾Ð¶Ð¸Ð´Ð°ÑŽÑ‚ÑÑ Ð²Ð°Ð¶Ð½Ñ‹Ðµ Ñ†Ð¸Ñ„Ñ€Ñ‹.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð²Ñ…Ð¾Ð´Ð¸Ñ‚ Ð² Ñ„Ð°Ð·Ñƒ Ð¾Ð¶Ð¸Ð´Ð°Ð½Ð¸Ñ." },
    { first: "â³ Ð§ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚ Ð²Ñ‹Ñ…Ð¾Ð´ÑÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ.", second: "ÐÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ Ð¼Ð¾Ð¶ÐµÑ‚ Ð²Ñ‹Ñ€Ð°ÑÑ‚Ð¸." },
  ],
  anchor: [
    { first: "âš¡ Ð§ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚ â€” {event}.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð½Ð°Ñ‡Ð¸Ð½Ð°ÐµÑ‚ Ñ€ÐµÐ°Ð³Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ." },
    { first: "âš¡ Ð§ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚ Ð¾Ð¶Ð¸Ð´Ð°ÐµÑ‚ÑÑ {event}.", second: "Ð”Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ Ð¼Ð¾Ð³ÑƒÑ‚ ÑÑ‚Ð°Ñ‚ÑŒ Ð·Ð°Ð¼ÐµÑ‚Ð½ÐµÐµ." },
    { first: "âš¡ Ð§ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚ Ð²Ñ‹Ñ…Ð¾Ð´Ð¸Ñ‚ {event}.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð²Ñ…Ð¾Ð´Ð¸Ñ‚ Ð² Ñ„Ð°Ð·Ñƒ Ð¾Ð¶Ð¸Ð´Ð°Ð½Ð¸Ñ." },
    { first: "âš¡ Ð§ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚ â€” {event}.", second: "Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ Ð¾Ð¶Ð¸Ð²Ð»ÐµÐ½Ð¸Ðµ Ð½Ð° Ñ€Ñ‹Ð½ÐºÐµ." },
    { first: "âš¡ Ð§ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚ â€” {event}.", second: "Ð”Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½ Ð´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ð¹ Ð¼Ð¾Ð¶ÐµÑ‚ Ñ€Ð°ÑÑˆÐ¸Ñ€Ð¸Ñ‚ÑŒÑÑ." },
  ],
  stack: [
    { first: "â³ Ð§ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚ Ð²Ñ‹Ñ…Ð¾Ð´Ð¸Ñ‚ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¿Ð¾Ð´Ñ€ÑÐ´.", second: "ÐÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ Ð¼Ð¾Ð¶ÐµÑ‚ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑ‚ÑŒÑÑ Ð´Ð¾Ð»ÑŒÑˆÐµ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾Ð³Ð¾." },
    { first: "â³ Ð§ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚ Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¸ Ð¿Ð¾Ð¹Ð´ÑƒÑ‚ Ð¾Ð´Ð½Ð° Ð·Ð° Ð´Ñ€ÑƒÐ³Ð¾Ð¹.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð¼Ð¾Ð¶ÐµÑ‚ Ð¾ÑÑ‚Ð°Ð²Ð°Ñ‚ÑŒÑÑ Ð¿Ð¾Ð´Ð²Ð¸Ð¶Ð½Ñ‹Ð¼ Ð² ÑÑ‚Ð¾Ñ‚ Ð¿ÐµÑ€Ð¸Ð¾Ð´." },
    { first: "â³ Ð§ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚ ÑÐµÑ€Ð¸Ñ ÑÐºÐ¾Ð½Ð¾Ð¼Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¹.", second: "Ð”Ð²Ð¸Ð¶ÐµÐ½Ð¸Ðµ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð½ÐµÑ€Ð°Ð²Ð½Ð¾Ð¼ÐµÑ€Ð½Ñ‹Ð¼." },
    { first: "â³ Ð§ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ñ€ÐµÐ»Ð¸Ð·Ð¾Ð² Ð¿Ð¾Ð´Ñ€ÑÐ´.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð²Ñ…Ð¾Ð´Ð¸Ñ‚ Ð² Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ð¹ Ð¿ÐµÑ€Ð¸Ð¾Ð´." },
    { first: "â³ Ð§ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚ Ð±Ð»Ð¾Ðº Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð±ÐµÐ· Ð¿Ð°ÑƒÐ·.", second: "Ð¦ÐµÐ½Ð° Ð¼Ð¾Ð¶ÐµÑ‚ Ñ€ÐµÐ°Ð³Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð½Ð° ÐºÐ°Ð¶Ð´Ñ‹Ð¹." },
  ],
  anchorStack: [
    { first: "âš¡ Ð§ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚ ÑÐµÑ€Ð¸Ñ Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¹, Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ {event}.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð²Ñ…Ð¾Ð´Ð¸Ñ‚ Ð² Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ð¹ Ð¿ÐµÑ€Ð¸Ð¾Ð´." },
    { first: "âš¡ Ð§ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚ Ð±Ð»Ð¾Ðº Ð´Ð°Ð½Ð½Ñ‹Ñ…, ÑÑ€ÐµÐ´Ð¸ Ð½Ð¸Ñ… {event}.", second: "Ð”Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ Ð¼Ð¾Ð³ÑƒÑ‚ Ð¸Ð´Ñ‚Ð¸ Ð²Ð¾Ð»Ð½Ð°Ð¼Ð¸." },
    { first: "âš¡ Ð§ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ñ€ÐµÐ»Ð¸Ð·Ð¾Ð² Ð¿Ð¾Ð´Ñ€ÑÐ´, Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ {event}.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð½Ð°Ñ‡Ð¸Ð½Ð°ÐµÑ‚ Ñ€ÐµÐ°Ð³Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ." },
    { first: "âš¡ Ð§ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¸Ð´ÑƒÑ‚ Ð¾Ð´Ð¸Ð½ Ð·Ð° Ð´Ñ€ÑƒÐ³Ð¸Ð¼, Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ {event}.", second: "ÐÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ Ð¼Ð¾Ð¶ÐµÑ‚ Ð½Ð°Ñ€Ð°ÑÑ‚Ð°Ñ‚ÑŒ Ð¿Ð¾ÑÑ‚ÐµÐ¿ÐµÐ½Ð½Ð¾." },
    { first: "âš¡ Ð§ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚ ÑÐµÑ€Ð¸Ñ Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¹, Ð² Ñ‚Ð¾Ð¼ Ñ‡Ð¸ÑÐ»Ðµ {event}.", second: "Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ñ‹ Ð¿Ð¾ÑÐ»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ." },
  ],
};

const DURING_EVENT = {
  high: [
    { first: "ðŸ“Š Ð’Ñ‹Ñ…Ð¾Ð´ÑÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð½Ð°Ñ‡Ð¸Ð½Ð°ÐµÑ‚ Ñ€ÐµÐ°Ð³Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ." },
    { first: "ðŸ“Š ÐŸÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ñ Ð½Ð°Ñ‡Ð°Ð»Ð°ÑÑŒ.", second: "Ð’ Ñ€Ñ‹Ð½ÐºÐµ Ð¸Ð´Ñ‘Ñ‚ Ð´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ðµ." },
    { first: "ðŸ“Š Ð”Ð°Ð½Ð½Ñ‹Ðµ Ð²Ñ‹ÑˆÐ»Ð¸.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð¿ÐµÑ€ÐµÐ²Ð°Ñ€Ð¸Ð²Ð°ÐµÑ‚ Ñ†Ð¸Ñ„Ñ€Ñ‹." },
    { first: "ðŸ“Š Ð ÐµÐ»Ð¸Ð· Ð¾Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ¾Ð²Ð°Ð½.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð² Ñ„Ð°Ð·Ðµ Ñ€ÐµÐ°ÐºÑ†Ð¸Ð¸." },
    { first: "ðŸ“Š Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð²Ñ‹ÑˆÐ»Ð°.", second: "Ð¦ÐµÐ½Ð° Ð¾Ñ‚Ð²ÐµÑ‡Ð°ÐµÑ‚ Ð½Ð° Ð´Ð°Ð½Ð½Ñ‹Ðµ." },
    { first: "ðŸ“Š ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÐµÐ»Ð¸ Ð¾Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ¾Ð²Ð°Ð½Ñ‹.", second: "Ð Ñ‹Ð½Ð¾Ðº Ñ€ÐµÐ°Ð³Ð¸Ñ€ÑƒÐµÑ‚ Ð½Ð° ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ðµ." },
  ],
  anchor: [
    { first: "âš¡ ÐŸÑƒÐ±Ð»Ð¸ÐºÑƒÐµÑ‚ÑÑ {event}.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð½Ð°Ñ‡Ð¸Ð½Ð°ÐµÑ‚ Ñ€ÐµÐ°Ð³Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ." },
    { first: "âš¡ Ð’Ñ‹Ñ…Ð¾Ð´Ð¸Ñ‚ {event}.", second: "Ð’ Ñ€Ñ‹Ð½ÐºÐµ Ð¸Ð´Ñ‘Ñ‚ Ð´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ðµ." },
    { first: "âš¡ {event} â€” Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð²Ñ‹ÑˆÐ»Ð¸.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð¾Ñ‚Ð²ÐµÑ‡Ð°ÐµÑ‚ Ð½Ð° Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸ÑŽ." },
    { first: "âš¡ ÐŸÑƒÐ±Ð»Ð¸ÐºÑƒÐµÑ‚ÑÑ {event}.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð² Ñ„Ð°Ð·Ðµ Ñ€ÐµÐ°ÐºÑ†Ð¸Ð¸." },
    { first: "âš¡ Ð’Ñ‹Ñ…Ð¾Ð´Ð¸Ñ‚ {event}.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð¿ÐµÑ€ÐµÐ²Ð°Ñ€Ð¸Ð²Ð°ÐµÑ‚ Ñ†Ð¸Ñ„Ñ€Ñ‹." },
  ],
  stack: [
    { first: "ðŸ“Š ÐŸÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¸ Ð¸Ð´ÑƒÑ‚ Ð¿Ð¾Ð´Ñ€ÑÐ´.", second: "Ð Ñ‹Ð½Ð¾Ðº Ñ€ÐµÐ°Ð³Ð¸Ñ€ÑƒÐµÑ‚ Ð½Ð° ÐºÐ°Ð¶Ð´ÑƒÑŽ Ð¸Ð· Ð½Ð¸Ñ…." },
    { first: "ðŸ“Š Ð’Ñ‹Ñ…Ð¾Ð´Ð¸Ñ‚ Ð±Ð»Ð¾Ðº ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ¸.", second: "Ð˜Ð´Ñ‘Ñ‚ Ð¿Ð¾ÑÐ»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ Ñ€ÐµÐ°ÐºÑ†Ð¸Ñ." },
    { first: "ðŸ“Š Ð”Ð°Ð½Ð½Ñ‹Ðµ Ð²Ñ‹Ñ…Ð¾Ð´ÑÑ‚ Ð¾Ð´Ð¸Ð½ Ð·Ð° Ð´Ñ€ÑƒÐ³Ð¸Ð¼.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð¾Ñ‚Ð²ÐµÑ‡Ð°ÐµÑ‚ Ð½Ð° Ñ€ÐµÐ»Ð¸Ð·Ñ‹." },
    { first: "ðŸ“Š Ð˜Ð´Ñ‘Ñ‚ ÑÐµÑ€Ð¸Ñ Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¹.", second: "Ð’ Ñ€Ñ‹Ð½ÐºÐµ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÐµÑ‚ÑÑ Ð´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ðµ." },
  ],
  anchorStack: [
    { first: "âš¡ ÐŸÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¸ Ð¸Ð´ÑƒÑ‚ Ð¿Ð¾Ð´Ñ€ÑÐ´, Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ {event}.", second: "Ð Ñ‹Ð½Ð¾Ðº Ñ€ÐµÐ°Ð³Ð¸Ñ€ÑƒÐµÑ‚ Ð½Ð° Ð±Ð»Ð¾Ðº Ð´Ð°Ð½Ð½Ñ‹Ñ…." },
    { first: "âš¡ Ð’Ñ‹Ñ…Ð¾Ð´Ð¸Ñ‚ ÑÐµÑ€Ð¸Ñ Ð´Ð°Ð½Ð½Ñ‹Ñ…, ÑÑ€ÐµÐ´Ð¸ Ð½Ð¸Ñ… {event}.", second: "Ð’ Ñ€Ñ‹Ð½ÐºÐµ Ð¸Ð´Ñ‘Ñ‚ Ð¿Ð¾ÑÐ»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ Ñ€ÐµÐ°ÐºÑ†Ð¸Ñ." },
    { first: "âš¡ ÐŸÑƒÐ±Ð»Ð¸ÐºÑƒÐµÑ‚ÑÑ Ð±Ð»Ð¾Ðº ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ¸, Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ {event}.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð¾Ñ‚Ð²ÐµÑ‡Ð°ÐµÑ‚ Ð½Ð° ÑÐµÑ€Ð¸ÑŽ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹." },
    { first: "âš¡ Ð”Ð°Ð½Ð½Ñ‹Ðµ Ð²Ñ‹Ñ…Ð¾Ð´ÑÑ‚ Ð¿Ð¾Ð´Ñ€ÑÐ´, Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ {event}.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð¿ÐµÑ€ÐµÐ²Ð°Ñ€Ð¸Ð²Ð°ÐµÑ‚ Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¸." },
  ],
};

const POST_EVENT = {
  high: [
    { first: "ðŸ•’ ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ Ð¸Ð¼Ð¿ÑƒÐ»ÑŒÑ Ð¿Ð¾ÑÑ‚ÐµÐ¿ÐµÐ½Ð½Ð¾ ÑƒÑ‚Ð¸Ñ…Ð°ÐµÑ‚.", second: "Ð”Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ ÑÑ‚Ð°Ð½Ð¾Ð²ÑÑ‚ÑÑ ÑÐ¿Ð¾ÐºÐ¾Ð¹Ð½ÐµÐµ." },
    { first: "ðŸ•’ ÐÐºÑ‚Ð¸Ð²Ð½Ð°Ñ Ñ„Ð°Ð·Ð° Ð¿Ð¾ÑÐ»Ðµ Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¸ Ð¿Ñ€Ð¾ÑˆÐ»Ð°.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð²Ñ‹Ñ€Ð°Ð²Ð½Ð¸Ð²Ð°ÐµÑ‚ÑÑ." },
    { first: "ðŸ•’ ÐŸÐµÑ€Ð²Ð¸Ñ‡Ð½Ð°Ñ Ñ€ÐµÐ°ÐºÑ†Ð¸Ñ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°.", second: "ÐšÐ¾Ð»ÐµÐ±Ð°Ð½Ð¸Ñ ÑÐ¾ÐºÑ€Ð°Ñ‰Ð°ÑŽÑ‚ÑÑ." },
    { first: "ðŸ•’ Ð ÐµÐ°ÐºÑ†Ð¸Ñ Ð½Ð° Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¿Ð¾ÑÑ‚ÐµÐ¿ÐµÐ½Ð½Ð¾ Ð·Ð°Ñ‚Ð¸Ñ…Ð°ÐµÑ‚.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´Ð¸Ñ‚ Ð² Ð±Ð¾Ð»ÐµÐµ Ñ€Ð¾Ð²Ð½ÑƒÑŽ Ñ„Ð°Ð·Ñƒ." },
    { first: "ðŸ•’ ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ðµ Ð´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ðµ Ð¿Ð¾ÑÐ»Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¾Ñ‚Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½Ð¾.", second: "ÐÐ¼Ð¿Ð»Ð¸Ñ‚ÑƒÐ´Ð° Ð¸Ð´Ñ‘Ñ‚ Ð½Ð° ÑƒÐ±Ñ‹Ð»ÑŒ." },
    { first: "ðŸ•’ ÐŸÐ¸Ðº Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ð¸ Ð¿Ð¾Ð·Ð°Ð´Ð¸.", second: "Ð Ñ‹Ð½Ð¾Ðº ÑƒÑÐ¿Ð¾ÐºÐ°Ð¸Ð²Ð°ÐµÑ‚ÑÑ." },
  ],
  anchor: [
    { first: "âš¡ Ð ÐµÐ°ÐºÑ†Ð¸Ñ Ð½Ð° {event} Ð¿Ð¾ÑÑ‚ÐµÐ¿ÐµÐ½Ð½Ð¾ ÑƒÑ‚Ð¸Ñ…Ð°ÐµÑ‚.", second: "Ð”Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ ÑÑ‚Ð°Ð½Ð¾Ð²ÑÑ‚ÑÑ Ñ€Ð¾Ð²Ð½ÐµÐµ." },
    { first: "âš¡ ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ Ð¸Ð¼Ð¿ÑƒÐ»ÑŒÑ Ð¿Ð¾ {event} Ð¿Ñ€Ð¾ÑˆÑ‘Ð».", second: "Ð Ñ‹Ð½Ð¾Ðº Ð²Ñ‹Ñ€Ð°Ð²Ð½Ð¸Ð²Ð°ÐµÑ‚ÑÑ." },
    { first: "âš¡ Ð ÐµÐ°ÐºÑ†Ð¸Ñ Ð½Ð° {event} ÑÐ½Ð¸Ð¶Ð°ÐµÑ‚ÑÑ.", second: "ÐšÐ¾Ð»ÐµÐ±Ð°Ð½Ð¸Ñ Ð¸Ð´ÑƒÑ‚ Ð½Ð° ÑƒÐ±Ñ‹Ð»ÑŒ." },
    { first: "âš¡ {event} â€” Ð¿Ð¸Ðº Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ð¸ Ð¿Ð¾Ð·Ð°Ð´Ð¸.", second: "Ð”Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ ÑÑ‚Ð°Ð½Ð¾Ð²ÑÑ‚ÑÑ ÑÐ¿Ð¾ÐºÐ¾Ð¹Ð½ÐµÐµ." },
    { first: "âš¡ ÐžÑÐ½Ð¾Ð²Ð½Ð°Ñ Ñ€ÐµÐ°ÐºÑ†Ð¸Ñ Ð½Ð° {event} Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´Ð¸Ñ‚ Ð² Ð±Ð¾Ð»ÐµÐµ Ñ€Ð¾Ð²Ð½ÑƒÑŽ Ñ„Ð°Ð·Ñƒ." },
  ],
  stack: [
    { first: "ðŸ•’ ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ Ð¸Ð¼Ð¿ÑƒÐ»ÑŒÑ Ð¿Ð¾ÑÐ»Ðµ ÑÐµÑ€Ð¸Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¿Ð¾ÑÑ‚ÐµÐ¿ÐµÐ½Ð½Ð¾ ÑƒÑ‚Ð¸Ñ…Ð°ÐµÑ‚.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð²Ñ‹Ñ€Ð°Ð²Ð½Ð¸Ð²Ð°ÐµÑ‚ÑÑ." },
    { first: "ðŸ•’ Ð ÐµÐ°ÐºÑ†Ð¸Ñ Ð½Ð° Ð±Ð»Ð¾Ðº Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¹ ÑÐ½Ð¸Ð¶Ð°ÐµÑ‚ÑÑ.", second: "Ð”Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ ÑÑ‚Ð°Ð½Ð¾Ð²ÑÑ‚ÑÑ ÑÐ¿Ð¾ÐºÐ¾Ð¹Ð½ÐµÐµ." },
    { first: "ðŸ•’ ÐŸÐ¸Ðº Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ð¸ Ð¿Ð¾ÑÐ»Ðµ ÑÐµÑ€Ð¸Ð¸ Ñ€ÐµÐ»Ð¸Ð·Ð¾Ð² Ð¿Ð¾Ð·Ð°Ð´Ð¸.", second: "ÐšÐ¾Ð»ÐµÐ±Ð°Ð½Ð¸Ñ Ð¸Ð´ÑƒÑ‚ Ð½Ð° ÑƒÐ±Ñ‹Ð»ÑŒ." },
    { first: "ðŸ•’ ÐÐºÑ‚Ð¸Ð²Ð½Ð°Ñ Ñ„Ð°Ð·Ð° Ð¿Ð¾ÑÐ»Ðµ Ð±Ð»Ð¾ÐºÐ° Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¿Ñ€Ð¾ÑˆÐ»Ð°.", second: "Ð Ñ‹Ð½Ð¾Ðº ÑƒÑÐ¿Ð¾ÐºÐ°Ð¸Ð²Ð°ÐµÑ‚ÑÑ." },
    { first: "ðŸ•’ Ð¡ÐµÑ€Ð¸Ñ Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¹ Ð¾Ñ‚Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½Ð°.", second: "ÐÐ¼Ð¿Ð»Ð¸Ñ‚ÑƒÐ´Ð° ÑÐ¾ÐºÑ€Ð°Ñ‰Ð°ÐµÑ‚ÑÑ." },
  ],
  anchorStack: [
    { first: "âš¡ ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ Ð¸Ð¼Ð¿ÑƒÐ»ÑŒÑ Ð¿Ð¾ ÑÐµÑ€Ð¸Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ñ…, Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ {event}, Ð¿Ð¾ÑÑ‚ÐµÐ¿ÐµÐ½Ð½Ð¾ ÑƒÑ‚Ð¸Ñ…Ð°ÐµÑ‚.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð²Ñ‹Ñ€Ð°Ð²Ð½Ð¸Ð²Ð°ÐµÑ‚ÑÑ." },
    { first: "âš¡ Ð ÐµÐ°ÐºÑ†Ð¸Ñ Ð½Ð° Ð±Ð»Ð¾Ðº Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¹, Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ {event}, ÑÐ½Ð¸Ð¶Ð°ÐµÑ‚ÑÑ.", second: "Ð”Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ ÑÑ‚Ð°Ð½Ð¾Ð²ÑÑ‚ÑÑ Ñ€Ð¾Ð²Ð½ÐµÐµ." },
    { first: "âš¡ Ð¡ÐµÑ€Ð¸Ñ Ñ€ÐµÐ»Ð¸Ð·Ð¾Ð², Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ {event}, Ð¾Ñ‚Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½Ð°.", second: "ÐšÐ¾Ð»ÐµÐ±Ð°Ð½Ð¸Ñ Ð¸Ð´ÑƒÑ‚ Ð½Ð° ÑƒÐ±Ñ‹Ð»ÑŒ." },
    { first: "âš¡ Ð‘Ð»Ð¾Ðº Ð´Ð°Ð½Ð½Ñ‹Ñ…, Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ {event}, â€” Ð¿Ð¸Ðº Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ð¸ Ð¿Ð¾Ð·Ð°Ð´Ð¸.", second: "Ð Ñ‹Ð½Ð¾Ðº ÑƒÑÐ¿Ð¾ÐºÐ°Ð¸Ð²Ð°ÐµÑ‚ÑÑ." },
    { first: "âš¡ ÐžÑÐ½Ð¾Ð²Ð½Ð°Ñ Ñ€ÐµÐ°ÐºÑ†Ð¸Ñ Ð½Ð° Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¸, Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ {event}, Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´Ð¸Ñ‚ Ð² Ð±Ð¾Ð»ÐµÐµ Ñ€Ð¾Ð²Ð½ÑƒÑŽ Ñ„Ð°Ð·Ñƒ." },
  ],
};

const GREEN = {
  single: [
    { first: "ðŸŸ¢ ÐžÐºÐ½Ð¾ Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¸ Ð·Ð°ÐºÑ€Ñ‹Ñ‚Ð¾.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð²ÐµÑ€Ð½ÑƒÐ»ÑÑ Ðº Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾Ð¼Ñƒ Ñ€Ð¸Ñ‚Ð¼Ñƒ." },
    { first: "ðŸŸ¢ Ð¤Ð°Ð·Ð° ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°.", second: "Ð”Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¸ÑˆÐ»Ð¸ Ð² Ð½Ð¾Ñ€Ð¼Ñƒ." },
    { first: "ðŸŸ¢ ÐÐºÑ‚Ð¸Ð²Ð½Ñ‹Ð¹ Ð¿ÐµÑ€Ð¸Ð¾Ð´ Ð·Ð°ÐºÐ¾Ð½Ñ‡Ð¸Ð»ÑÑ.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð² ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ð¾Ð¹ Ñ„Ð°Ð·Ðµ." },
    { first: "ðŸŸ¢ ÐžÐºÐ½Ð¾ Ð²Ð¾Ð»Ð°Ñ‚Ð¸Ð»ÑŒÐ½Ð¾ÑÑ‚Ð¸ Ð·Ð°ÐºÑ€Ñ‹Ñ‚Ð¾.", second: "Ð Ñ‹Ð½Ð¾Ðº ÑƒÑÐ¿Ð¾ÐºÐ¾Ð¸Ð»ÑÑ." },
    { first: "ðŸŸ¢ ÐŸÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ñ Ð¾Ñ‚Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½Ð°.", second: "Ð”Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ Ð½Ð¾Ñ€Ð¼Ð°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ñ‹." },
    { first: "ðŸŸ¢ ÐÐºÑ‚Ð¸Ð²Ð½Ð°Ñ Ñ„Ð°Ð·Ð° Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð² Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾Ð¼ Ñ€Ð¸Ñ‚Ð¼Ðµ." },
  ],
  cluster: [
    { first: "ðŸŸ¢ ÐžÐºÐ½Ð¾ ÑÐµÑ€Ð¸Ð¸ Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¹ Ð·Ð°ÐºÑ€Ñ‹Ñ‚Ð¾.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð²ÐµÑ€Ð½ÑƒÐ»ÑÑ Ðº Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾Ð¼Ñƒ Ñ€Ð¸Ñ‚Ð¼Ñƒ." },
    { first: "ðŸŸ¢ Ð‘Ð»Ð¾Ðº Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¾Ñ‚Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½.", second: "Ð”Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¸ÑˆÐ»Ð¸ Ð² Ð½Ð¾Ñ€Ð¼Ñƒ." },
    { first: "ðŸŸ¢ ÐŸÐµÑ€Ð¸Ð¾Ð´ Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¹ Ð·Ð°Ð²ÐµÑ€ÑˆÑ‘Ð½.", second: "Ð Ñ‹Ð½Ð¾Ðº ÑƒÑÐ¿Ð¾ÐºÐ¾Ð¸Ð»ÑÑ." },
    { first: "ðŸŸ¢ Ð¡ÐµÑ€Ð¸Ñ Ñ€ÐµÐ»Ð¸Ð·Ð¾Ð² Ð·Ð°ÐºÑ€Ñ‹Ñ‚Ð°.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð² ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ð¾Ð¹ Ñ„Ð°Ð·Ðµ." },
    { first: "ðŸŸ¢ ÐÐºÑ‚Ð¸Ð²Ð½Ð¾Ðµ Ð¾ÐºÐ½Ð¾ Ð·Ð°ÐºÑ€Ñ‹Ñ‚Ð¾.", second: "Ð”Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ Ð½Ð¾Ñ€Ð¼Ð°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ñ‹." },
  ],
};

const shuffleQueues = {};

const pickFromPool = (poolKey, pool) => {
  if (!pool || pool.length === 0) return null;
  if (pool.length === 1) return pool[0];

  let queue = shuffleQueues[poolKey];
  if (!queue || queue.length === 0) {
    queue = Array.from({ length: pool.length }, (_, i) => i);
    for (let i = queue.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [queue[i], queue[j]] = [queue[j], queue[i]];
    }
    shuffleQueues[poolKey] = queue;
  }

  const idx = queue.shift();
  return pool[idx];
};

const getSafeMinutes = (payload) => {
  const raw = payload && Number.isFinite(payload.minutes_to_event)
    ? payload.minutes_to_event
    : 0;
  return Math.max(0, Math.ceil(raw));
};

const RU_EVENT_NAMES = {
  "NFP": "NFP",
  "FOMC Rate Decision": "Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ Ð¤Ð Ð¡",
  "US CPI": "CPI Ð¡Ð¨Ð",
  "ECB Rate Decision": "Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ Ð•Ð¦Ð‘",
  "BOE Rate Decision": "Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ Ð‘Ð°Ð½ÐºÐ° ÐÐ½Ð³Ð»Ð¸Ð¸",
  "BOJ Rate Decision": "Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ Ð‘Ð°Ð½ÐºÐ° Ð¯Ð¿Ð¾Ð½Ð¸Ð¸",
  "Powell Speech": "Ð²Ñ‹ÑÑ‚ÑƒÐ¿Ð»ÐµÐ½Ð¸Ðµ ÐŸÐ°ÑƒÑÐ»Ð»Ð°",
};

const translateEventName = (name) => {
  if (!name) return "";
  if (RU_EVENT_NAMES[name]) return RU_EVENT_NAMES[name];
  const lower = name.toLowerCase();
  for (const [key, value] of Object.entries(RU_EVENT_NAMES)) {
    if (key.toLowerCase() === lower) return value;
  }
  return name;
};

const getEventName = (payload) => {
  if (!payload) return "";
  const anchorLabel = String(payload.anchor_label || "").trim();
  if (anchorLabel) return translateEventName(anchorLabel);
  const name = String(payload.event_name || "").trim();
  if (payload.cluster_has_anchor && Array.isArray(payload.cluster_anchor_names)) {
    const first = payload.cluster_anchor_names
      .map((n) => translateEventName(String(n || "").trim()))
      .filter(Boolean)[0];
    if (first) return first;
  }
  return name && name !== "N/A" ? translateEventName(name) : "";
};

const getEventTimeFormatted = (payload) => {
  if (!payload || !payload.event_time) return "";
  const ms = Date.parse(payload.event_time);
  if (!Number.isFinite(ms)) return "";
  const MSK_OFFSET_MS = 3 * 60 * 60 * 1000;
  const msk = new Date(ms + MSK_OFFSET_MS);
  const hh = String(msk.getUTCHours()).padStart(2, "0");
  const mm = String(msk.getUTCMinutes()).padStart(2, "0");
  return `${hh}:${mm}`;
};

const capitalizeAfterEmoji = (line) =>
  line.replace(/^([\p{Emoji}\uFE0F\u200D]+\s*)(\p{Ll})/u, (_, prefix, char) => prefix + char.toUpperCase());

const CURRENCY_TO_COUNTRY = {
  USD: "US", EUR: "EU", GBP: "GB", JPY: "JP", AUD: "AU",
  CAD: "CA", CHF: "CH", NZD: "NZ", CNY: "CN", SEK: "SE",
  NOK: "NO", SGD: "SG", HKD: "HK", MXN: "MX", ZAR: "ZA",
  TRY: "TR", INR: "IN", BRL: "BR", KRW: "KR", PLN: "PL",
};

const currencyToFlag = (code) => {
  const country = CURRENCY_TO_COUNTRY[code] || code.slice(0, 2);
  if (!country || country.length !== 2) return "";
  return String.fromCodePoint(
    0x1F1E6 + country.charCodeAt(0) - 65,
    0x1F1E6 + country.charCodeAt(1) - 65
  );
};

const buildCurrencyLine = (payload) => {
  if (!payload || !Array.isArray(payload.currencies) || payload.currencies.length === 0) {
    return "";
  }
  const items = payload.currencies
    .map((c) => `${currencyToFlag(c)} ${c}`)
    .join(", ");
  return "\n\nÐ—Ð°Ñ‚Ñ€Ð¾Ð½ÐµÑ‚: " + items;
};

const applyPlaceholders = (phrase, payload, opts) => {
  const minutes = getSafeMinutes(payload);
  const event = getEventName(payload);
  const time = getEventTimeFormatted(payload);
  const text = [phrase.first, phrase.second].join("\n");
  const filled = text
    .replace(/\{min\}/g, String(minutes))
    .replace(/\{event\}/g, event)
    .replace(/\{time\}/g, time);
  const lines = filled.split("\n").map(capitalizeAfterEmoji).join("\n");
  if (opts && opts.appendCurrencies) {
    return lines + buildCurrencyLine(payload);
  }
  return lines;
};

const resolveCategory = (payload) => {
  const isCluster = payload && Number.isFinite(payload.cluster_size) && payload.cluster_size > 1;
  const isAnchor = payload && (
    payload.impact_type === "anchor_high" ||
    payload.cluster_has_anchor === true
  );

  if (isCluster && isAnchor) return "anchorStack";
  if (isCluster) return "stack";
  if (isAnchor) return "anchor";
  return "high";
};

module.exports = {
  PRE_EVENT,
  DURING_EVENT,
  POST_EVENT,
  GREEN,
  pickFromPool,
  applyPlaceholders,
  resolveCategory,
  getSafeMinutes,
  getEventName,
  getEventTimeFormatted,
};
