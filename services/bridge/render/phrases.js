const PRE_EVENT = {
  high: [
    { first: "âš ï¸ Ð§ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚ Ð²Ñ‹Ñ…Ð¾Ð´ÑÑ‚ Ð²Ð°Ð¶Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð¼Ð¾Ð¶ÐµÑ‚ ÑÑ‚Ð°Ñ‚ÑŒ Ð·Ð°Ð¼ÐµÑ‚Ð½Ð¾ Ð¿Ð¾Ð´Ð²Ð¸Ð¶Ð½ÐµÐµ." },
    { first: "âš ï¸ Ð§ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚ Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ñ Ð·Ð½Ð°Ñ‡Ð¸Ð¼Ð¾Ð¹ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ¸.", second: "Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ñ‹ Ð±Ð¾Ð»ÐµÐµ Ð±Ñ‹ÑÑ‚Ñ€Ñ‹Ðµ Ð´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ Ñ†ÐµÐ½Ñ‹." },
    { first: "âš ï¸ Ð§ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚ Ð²Ñ‹Ñ…Ð¾Ð´ ÐºÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ñ… Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÐµÐ»ÐµÐ¹.", second: "ÐÐ¼Ð¿Ð»Ð¸Ñ‚ÑƒÐ´Ð° Ð´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ð¹ Ð¼Ð¾Ð¶ÐµÑ‚ Ð²Ñ‹Ñ€Ð°ÑÑ‚Ð¸." },
    { first: "âš ï¸ Ð§ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚ Ð¾Ð¶Ð¸Ð´Ð°ÑŽÑ‚ÑÑ Ð²Ð°Ð¶Ð½Ñ‹Ðµ Ñ†Ð¸Ñ„Ñ€Ñ‹.", second: "Ð”Ð¸Ð½Ð°Ð¼Ð¸ÐºÐ° Ð¼Ð¾Ð¶ÐµÑ‚ ÑƒÑÐ¸Ð»Ð¸Ñ‚ÑŒÑÑ." },
    { first: "âš ï¸ Ð§ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚ Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ñ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ….", second: "Ð Ñ‹Ð½Ð¾Ðº Ð¼Ð¾Ð¶ÐµÑ‚ Ñ€ÐµÐ°Ð³Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð°ÐºÑ‚Ð¸Ð²Ð½ÐµÐµ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾Ð³Ð¾." },
  ],
  anchor: [
    { first: "âš¡ Ð§ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚ â€” {event}.", second: "Ð”Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ Ð¼Ð¾Ð³ÑƒÑ‚ ÑÑ‚Ð°Ñ‚ÑŒ Ñ€ÐµÐ·Ñ‡Ðµ." },
    { first: "âš¡ {event} â€” Ñ‡ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚.", second: "Ð’ÐµÑ€Ð¾ÑÑ‚Ð½Ð° ÑƒÑÐ¸Ð»ÐµÐ½Ð½Ð°Ñ Ñ€ÐµÐ°ÐºÑ†Ð¸Ñ Ñ€Ñ‹Ð½ÐºÐ°." },
    { first: "âš¡ Ð§ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚ Ð¾Ð¶Ð¸Ð´Ð°ÐµÑ‚ÑÑ {event}.", second: "Ð’Ð¾Ð·Ð¼Ð¾Ð¶ÐµÐ½ Ð²ÑÐ¿Ð»ÐµÑÐº ÐºÑ€Ð°Ñ‚ÐºÐ¾ÑÑ€Ð¾Ñ‡Ð½Ð¾Ð¹ Ð²Ð¾Ð»Ð°Ñ‚Ð¸Ð»ÑŒÐ½Ð¾ÑÑ‚Ð¸." },
    { first: "âš¡ {event} Ñ‡ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚.", second: "Ð”Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½ ÐºÐ¾Ð»ÐµÐ±Ð°Ð½Ð¸Ð¹ Ð¼Ð¾Ð¶ÐµÑ‚ Ñ€Ð°ÑÑˆÐ¸Ñ€Ð¸Ñ‚ÑŒÑÑ." },
    { first: "âš¡ Ð§ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚ â€” {event}.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿ÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ð² Ð±Ð¾Ð»ÐµÐµ Ð°ÐºÑ‚Ð¸Ð²Ð½ÑƒÑŽ Ñ„Ð°Ð·Ñƒ." },
  ],
  stack: [
    { first: "âš ï¸ Ð§ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚ Ð²Ñ‹Ñ…Ð¾Ð´Ð¸Ñ‚ ÑÑ€Ð°Ð·Ñƒ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð²Ð°Ð¶Ð½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ….", second: "Ð”Ð²Ð¸Ð¶ÐµÐ½Ð¸Ðµ Ð¼Ð¾Ð¶ÐµÑ‚ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑ‚ÑŒÑÑ Ð´Ð¾Ð»ÑŒÑˆÐµ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾Ð³Ð¾." },
    { first: "âš ï¸ Ð¡ {time} Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¸ Ð¿Ð¾Ð¹Ð´ÑƒÑ‚ Ð¿Ð¾Ð´Ñ€ÑÐ´.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð¼Ð¾Ð¶ÐµÑ‚ Ð¾ÑÑ‚Ð°Ð²Ð°Ñ‚ÑŒÑÑ Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ð¼ Ð² ÑÑ‚Ð¾Ñ‚ Ð¿ÐµÑ€Ð¸Ð¾Ð´." },
    { first: "âš ï¸ Ð§ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚ ÑÐµÑ€Ð¸Ñ ÑÐºÐ¾Ð½Ð¾Ð¼Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ….", second: "Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð° Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ Ð²Ð¾Ð»Ð°Ñ‚Ð¸Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ." },
    { first: "âš ï¸ Ð’ Ð±Ð»Ð¸Ð¶Ð°Ð¹ÑˆÐ¸Ðµ Ð¼Ð¸Ð½ÑƒÑ‚Ñ‹ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ñ€ÐµÐ»Ð¸Ð·Ð¾Ð² Ð¾Ð´Ð¸Ð½ Ð·Ð° Ð´Ñ€ÑƒÐ³Ð¸Ð¼.", second: "Ð”Ð¸Ð½Ð°Ð¼Ð¸ÐºÐ° Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð½ÐµÑ€Ð¾Ð²Ð½Ð¾Ð¹." },
    { first: "âš ï¸ Ð¡ {time} Ð±Ð»Ð¾Ðº ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ¸ Ð±ÐµÐ· Ð¿Ð°ÑƒÐ·.", second: "Ð¦ÐµÐ½Ð° Ð¼Ð¾Ð¶ÐµÑ‚ Ñ€ÐµÐ°Ð³Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¿Ð¾ÑÐ»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾." },
  ],
  anchorStack: [
    { first: "âš¡ Ð¡ {time} ÑÐµÑ€Ð¸Ñ Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¹, Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ {event}.", second: "Ð”Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ Ð¼Ð¾Ð³ÑƒÑ‚ Ð¸Ð´Ñ‚Ð¸ Ð²Ð¾Ð»Ð½Ð°Ð¼Ð¸." },
    { first: "âš¡ Ð§ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚ Ð±Ð»Ð¾Ðº Ð´Ð°Ð½Ð½Ñ‹Ñ…, ÑÑ€ÐµÐ´Ð¸ Ð½Ð¸Ñ… {event}.", second: "Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð° ÑƒÑÐ¸Ð»ÐµÐ½Ð½Ð°Ñ Ñ€ÐµÐ°ÐºÑ†Ð¸Ñ Ñ€Ñ‹Ð½ÐºÐ°." },
    { first: "âš¡ Ð’ Ð±Ð»Ð¸Ð¶Ð°Ð¹ÑˆÐ¸Ðµ Ð¼Ð¸Ð½ÑƒÑ‚Ñ‹ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ñ€ÐµÐ»Ð¸Ð·Ð¾Ð² Ð¿Ð¾Ð´Ñ€ÑÐ´, Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ {event}.", second: "Ð”Ð¸Ð½Ð°Ð¼Ð¸ÐºÐ° Ð¼Ð¾Ð¶ÐµÑ‚ Ð¾ÑÑ‚Ð°Ð²Ð°Ñ‚ÑŒÑÑ Ð²Ñ‹ÑÐ¾ÐºÐ¾Ð¹." },
    { first: "âš¡ Ð¡ {time} Ð²Ñ‹Ñ…Ð¾Ð´ÑÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¾Ð´Ð¸Ð½ Ð·Ð° Ð´Ñ€ÑƒÐ³Ð¸Ð¼, Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ {event}.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð¾ÑÐ¾Ð±ÐµÐ½Ð½Ð¾ Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð¸Ñ‚ÐµÐ»ÐµÐ½ Ð² ÑÑ‚Ð¾Ñ‚ Ð¿ÐµÑ€Ð¸Ð¾Ð´." },
    { first: "âš¡ Ð§ÐµÑ€ÐµÐ· {min} Ð¼Ð¸Ð½ÑƒÑ‚ ÑÐµÑ€Ð¸Ñ Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¹, Ð² Ñ‚Ð¾Ð¼ Ñ‡Ð¸ÑÐ»Ðµ {event}.", second: "Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ñ‹ Ð¿Ð¾ÑÐ»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¸Ð¼Ð¿ÑƒÐ»ÑŒÑÑ‹." },
  ],
};

const DURING_EVENT = {
  high: [
    { first: "ðŸ“Š Ð’Ñ‹Ñ…Ð¾Ð´ÑÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ.", second: "Ð”Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ ÑƒÑÐºÐ¾Ñ€ÑÑŽÑ‚ÑÑ." },
    { first: "ðŸ“Š ÐŸÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ñ Ð½Ð°Ñ‡Ð°Ð»Ð°ÑÑŒ.", second: "ÐÐ¼Ð¿Ð»Ð¸Ñ‚ÑƒÐ´Ð° Ñ€Ð°ÑÑ‚Ñ‘Ñ‚." },
    { first: "ðŸ“Š Ð”Ð°Ð½Ð½Ñ‹Ðµ Ð²Ñ‹Ñ…Ð¾Ð´ÑÑ‚ Ð² Ñ€Ñ‹Ð½Ð¾Ðº.", second: "Ð¦ÐµÐ½Ð° Ñ€ÐµÐ°Ð³Ð¸Ñ€ÑƒÐµÑ‚ Ð±Ñ‹ÑÑ‚Ñ€ÐµÐµ." },
    { first: "ðŸ“Š Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð²Ñ‹Ñ…Ð¾Ð´Ð¸Ñ‚.", second: "ÐšÐ¾Ð»ÐµÐ±Ð°Ð½Ð¸Ñ ÑƒÑÐ¸Ð»Ð¸Ð²Ð°ÑŽÑ‚ÑÑ." },
    { first: "ðŸ“Š Ð ÐµÐ»Ð¸Ð· Ð¾Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ¾Ð²Ð°Ð½.", second: "Ð”Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½ Ñ€Ð°ÑÑˆÐ¸Ñ€ÑÐµÑ‚ÑÑ." },
    { first: "ðŸ“Š Ð’Ñ‹ÑˆÐ»Ð¸ ÑÐºÐ¾Ð½Ð¾Ð¼Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ.", second: "Ð”Ð¸Ð½Ð°Ð¼Ð¸ÐºÐ° Ð·Ð°Ð¼ÐµÑ‚Ð½Ð¾ Ð°ÐºÑ‚Ð¸Ð²Ð½ÐµÐµ." },
    { first: "ðŸ“Š Ð˜Ð´Ñ‘Ñ‚ Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ñ Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÐµÐ»ÐµÐ¹.", second: "Ð Ñ‹Ð½Ð¾Ðº ÑƒÑÐºÐ¾Ñ€ÑÐµÑ‚ÑÑ." },
  ],
  anchor: [
    { first: "âš¡ Ð’Ñ‹Ñ…Ð¾Ð´Ð¸Ñ‚ {event}.", second: "Ð”Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ ÑÑ‚Ð°Ð½Ð¾Ð²ÑÑ‚ÑÑ Ñ€ÐµÐ·Ñ‡Ðµ." },
    { first: "âš¡ ÐŸÑƒÐ±Ð»Ð¸ÐºÑƒÐµÑ‚ÑÑ {event}.", second: "ÐÐ¼Ð¿Ð»Ð¸Ñ‚ÑƒÐ´Ð° ÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°ÐµÑ‚ÑÑ." },
    { first: "âš¡ {event} â€” Ð² Ñ€Ñ‹Ð½ÐºÐµ.", second: "Ð¦ÐµÐ½Ð° Ñ€ÐµÐ°Ð³Ð¸Ñ€ÑƒÐµÑ‚ Ð±Ñ‹ÑÑ‚Ñ€ÐµÐµ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾Ð³Ð¾." },
    { first: "âš¡ Ð’Ñ‹ÑˆÐ»Ð¾ {event}.", second: "Ð”Ð¸Ð½Ð°Ð¼Ð¸ÐºÐ° ÑƒÑÐ¸Ð»Ð¸Ð²Ð°ÐµÑ‚ÑÑ." },
    { first: "âš¡ Ð’ Ñ€Ñ‹Ð½Ð¾Ðº Ð²Ñ‹Ñ…Ð¾Ð´Ð¸Ñ‚ {event}.", second: "Ð”Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½ Ð´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ð¹ Ñ€Ð°ÑÑˆÐ¸Ñ€ÑÐµÑ‚ÑÑ." },
    { first: "âš¡ ÐŸÑƒÐ±Ð»Ð¸ÐºÑƒÐµÑ‚ÑÑ {event}.", second: "ÐÐ°Ð±Ð»ÑŽÐ´Ð°ÐµÑ‚ÑÑ ÑƒÑÐºÐ¾Ñ€ÐµÐ½Ð¸Ðµ Ð¸Ð¼Ð¿ÑƒÐ»ÑŒÑÐ¾Ð²." },
  ],
  stack: [
    { first: "ðŸ“Š Ð’Ñ‹Ñ…Ð¾Ð´Ð¸Ñ‚ ÑÐµÑ€Ð¸Ñ Ð´Ð°Ð½Ð½Ñ‹Ñ….", second: "Ð Ñ‹Ð½Ð¾Ðº Ð¾ÑÑ‚Ð°Ñ‘Ñ‚ÑÑ Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ð¼." },
    { first: "ðŸ“Š ÐŸÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¸ Ð¸Ð´ÑƒÑ‚ Ð¿Ð¾Ð´Ñ€ÑÐ´.", second: "Ð”Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑŽÑ‚ÑÑ ÑƒÑÐºÐ¾Ñ€ÐµÐ½Ð½Ñ‹Ð¼Ð¸." },
    { first: "ðŸ“Š Ð’ Ñ€Ñ‹Ð½Ð¾Ðº Ð¿Ð¾ÑÑ‚ÑƒÐ¿Ð°ÐµÑ‚ Ð±Ð»Ð¾Ðº ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ¸.", second: "ÐšÐ¾Ð»ÐµÐ±Ð°Ð½Ð¸Ñ Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð°ÑŽÑ‚ÑÑ." },
    { first: "ðŸ“Š Ð˜Ð´Ñ‘Ñ‚ Ð²Ñ‹Ð¿ÑƒÑÐº Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¸Ñ… Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÐµÐ»ÐµÐ¹.", second: "ÐÐ¼Ð¿Ð»Ð¸Ñ‚ÑƒÐ´Ð° Ð¾ÑÑ‚Ð°Ñ‘Ñ‚ÑÑ Ð¿Ð¾Ð²Ñ‹ÑˆÐµÐ½Ð½Ð¾Ð¹." },
    { first: "ðŸ“Š Ð”Ð°Ð½Ð½Ñ‹Ðµ Ð²Ñ‹Ñ…Ð¾Ð´ÑÑ‚ Ð¾Ð´Ð¸Ð½ Ð·Ð° Ð´Ñ€ÑƒÐ³Ð¸Ð¼.", second: "Ð¦ÐµÐ½Ð° Ñ€ÐµÐ°Ð³Ð¸Ñ€ÑƒÐµÑ‚ Ð¿Ð¾ÑÐ»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾." },
  ],
  anchorStack: [
    { first: "âš¡ Ð’Ñ‹Ñ…Ð¾Ð´Ð¸Ñ‚ ÑÐµÑ€Ð¸Ñ Ð´Ð°Ð½Ð½Ñ‹Ñ…, Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ {event}.", second: "Ð”Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ ÑƒÑÐ¸Ð»Ð¸Ð²Ð°ÑŽÑ‚ÑÑ Ð²Ð¾Ð»Ð½Ð°Ð¼Ð¸." },
    { first: "âš¡ ÐŸÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¸ Ð¸Ð´ÑƒÑ‚ Ð¿Ð¾Ð´Ñ€ÑÐ´, ÑÑ€ÐµÐ´Ð¸ Ð½Ð¸Ñ… {event}.", second: "ÐÐ¼Ð¿Ð»Ð¸Ñ‚ÑƒÐ´Ð° Ð¾ÑÑ‚Ð°Ñ‘Ñ‚ÑÑ Ð²Ñ‹ÑÐ¾ÐºÐ¾Ð¹." },
    { first: "âš¡ Ð’ Ñ€Ñ‹Ð½Ð¾Ðº Ð²Ñ‹Ñ…Ð¾Ð´Ð¸Ñ‚ Ð±Ð»Ð¾Ðº Ð´Ð°Ð½Ð½Ñ‹Ñ…, Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ {event}.", second: "Ð”Ð¸Ð½Ð°Ð¼Ð¸ÐºÐ° ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÐµÑ‚ÑÑ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð½Ð¾Ð¹." },
    { first: "âš¡ Ð’Ñ‹Ñ…Ð¾Ð´Ð¸Ñ‚ ÑÐµÑ€Ð¸Ñ Ñ€ÐµÐ»Ð¸Ð·Ð¾Ð², Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ {event}.", second: "Ð¦ÐµÐ½Ð° Ð´Ð²Ð¸Ð¶ÐµÑ‚ÑÑ Ð±Ñ‹ÑÑ‚Ñ€ÐµÐµ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾Ð³Ð¾." },
    { first: "âš¡ ÐŸÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¸ Ð¿Ð¾Ð´Ñ€ÑÐ´, ÑÑ€ÐµÐ´Ð¸ Ð½Ð¸Ñ… {event}.", second: "ÐšÐ¾Ð»ÐµÐ±Ð°Ð½Ð¸Ñ Ð¾ÑÑ‚Ð°ÑŽÑ‚ÑÑ Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ð¼Ð¸." },
  ],
};

const POST_EVENT = {
  high: [
    { first: "ðŸ•’ ÐŸÐµÑ€Ð²Ð¸Ñ‡Ð½Ð°Ñ Ñ€ÐµÐ°ÐºÑ†Ð¸Ñ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°.", second: "Ð”Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ Ð¿Ð¾ÑÑ‚ÐµÐ¿ÐµÐ½Ð½Ð¾ ÑÐ½Ð¸Ð¶Ð°ÑŽÑ‚ÑÑ." },
    { first: "ðŸ•’ ÐÐºÑ‚Ð¸Ð²Ð½Ð°Ñ Ñ„Ð°Ð·Ð° Ð¿Ð¾ÑÐ»Ðµ Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¸ Ð·Ð°Ð²ÐµÑ€ÑˆÐ¸Ð»Ð°ÑÑŒ.", second: "Ð”Ð¸Ð½Ð°Ð¼Ð¸ÐºÐ° Ð¾ÑÐ»Ð°Ð±ÐµÐ²Ð°ÐµÑ‚." },
    { first: "ðŸ•’ ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ Ð¸Ð¼Ð¿ÑƒÐ»ÑŒÑ Ð¾Ñ‚Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½.", second: "ÐÐ¼Ð¿Ð»Ð¸Ñ‚ÑƒÐ´Ð° ÑÐ¾ÐºÑ€Ð°Ñ‰Ð°ÐµÑ‚ÑÑ." },
    { first: "ðŸ•’ Ð ÐµÐ°ÐºÑ†Ð¸Ñ Ð½Ð° Ð´Ð°Ð½Ð½Ñ‹Ðµ ÑƒÑ‚Ð¸Ñ…Ð°ÐµÑ‚.", second: "ÐšÐ¾Ð»ÐµÐ±Ð°Ð½Ð¸Ñ ÑÑ‚Ð°Ð½Ð¾Ð²ÑÑ‚ÑÑ ÑÐ¿Ð¾ÐºÐ¾Ð¹Ð½ÐµÐµ." },
    { first: "ðŸ•’ ÐŸÐ¸ÐºÐ¾Ð²Ð°Ñ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ Ð¿Ñ€Ð¾Ð¹Ð´ÐµÐ½Ð°.", second: "Ð”Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½ Ð´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ð¹ ÑƒÐ¼ÐµÐ½ÑŒÑˆÐ°ÐµÑ‚ÑÑ." },
    { first: "ðŸ•’ Ð¤Ð°Ð·Ð° Ñ€ÐµÐ·ÐºÐ¸Ñ… Ð´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ð¹ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´Ð¸Ñ‚ Ð² Ð±Ð¾Ð»ÐµÐµ Ñ€Ð¾Ð²Ð½ÑƒÑŽ Ñ„Ð°Ð·Ñƒ." },
  ],
  anchor: [
    { first: "âš¡ Ð ÐµÐ°ÐºÑ†Ð¸Ñ Ð½Ð° {event} Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°.", second: "Ð˜Ð¼Ð¿ÑƒÐ»ÑŒÑ Ð¾ÑÐ»Ð°Ð±ÐµÐ²Ð°ÐµÑ‚." },
    { first: "âš¡ {event} Ð¾Ñ‚Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½Ð¾.", second: "Ð”Ð¸Ð½Ð°Ð¼Ð¸ÐºÐ° Ð²Ñ‹Ñ€Ð°Ð²Ð½Ð¸Ð²Ð°ÐµÑ‚ÑÑ." },
    { first: "âš¡ Ð ÐµÐ°ÐºÑ†Ð¸Ñ Ð½Ð° {event} Ð·Ð°Ð²ÐµÑ€ÑˆÐ¸Ð»Ð°ÑÑŒ.", second: "ÐÐ¼Ð¿Ð»Ð¸Ñ‚ÑƒÐ´Ð° Ð¿Ð¾ÑÑ‚ÐµÐ¿ÐµÐ½Ð½Ð¾ ÑÐ½Ð¸Ð¶Ð°ÐµÑ‚ÑÑ." },
    { first: "âš¡ {event} â€” Ð¿Ð¸ÐºÐ¾Ð²Ð°Ñ Ñ„Ð°Ð·Ð° Ð¿Ñ€Ð¾Ð¹Ð´ÐµÐ½Ð°.", second: "Ð”Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ ÑÑ‚Ð°Ð½Ð¾Ð²ÑÑ‚ÑÑ Ð¼ÐµÐ½ÐµÐµ Ñ€ÐµÐ·ÐºÐ¸Ð¼Ð¸." },
    { first: "âš¡ ÐžÑÐ½Ð¾Ð²Ð½Ð°Ñ Ñ€ÐµÐ°ÐºÑ†Ð¸Ñ Ð½Ð° {event} Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°.", second: "ÐšÐ¾Ð»ÐµÐ±Ð°Ð½Ð¸Ñ ÑƒÐ¼ÐµÐ½ÑŒÑˆÐ°ÑŽÑ‚ÑÑ." },
  ],
  stack: [
    { first: "ðŸ•’ Ð ÐµÐ°ÐºÑ†Ð¸Ñ Ð½Ð° Ð±Ð»Ð¾Ðº Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¹ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°.", second: "Ð”Ð¸Ð½Ð°Ð¼Ð¸ÐºÐ° Ð¿Ð¾ÑÑ‚ÐµÐ¿ÐµÐ½Ð½Ð¾ ÑÐ½Ð¸Ð¶Ð°ÐµÑ‚ÑÑ." },
    { first: "ðŸ•’ ÐžÑÐ½Ð¾Ð²Ð½Ð°Ñ Ñ„Ð°Ð·Ð° Ð´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ Ð¿Ð¾ÑÐ»Ðµ ÑÐµÑ€Ð¸Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¿Ñ€Ð¾Ð¹Ð´ÐµÐ½Ð°.", second: "ÐÐ¼Ð¿Ð»Ð¸Ñ‚ÑƒÐ´Ð° ÑÐ¾ÐºÑ€Ð°Ñ‰Ð°ÐµÑ‚ÑÑ." },
    { first: "ðŸ•’ Ð ÐµÐ°ÐºÑ†Ð¸Ñ Ð½Ð° Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¸ Ð¿Ð¾Ð´Ñ€ÑÐ´ ÑƒÑ‚Ð¸Ñ…Ð°ÐµÑ‚.", second: "Ð Ñ‹Ð½Ð¾Ðº ÑÑ‚Ð°Ð±Ð¸Ð»Ð¸Ð·Ð¸Ñ€ÑƒÐµÑ‚ÑÑ." },
    { first: "ðŸ•’ ÐŸÐ¸ÐºÐ¾Ð²Ð°Ñ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ Ð¿Ð¾ÑÐ»Ðµ Ð±Ð»Ð¾ÐºÐ° Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°.", second: "ÐšÐ¾Ð»ÐµÐ±Ð°Ð½Ð¸Ñ ÑƒÐ¼ÐµÐ½ÑŒÑˆÐ°ÑŽÑ‚ÑÑ." },
    { first: "ðŸ•’ ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ Ð¸Ð¼Ð¿ÑƒÐ»ÑŒÑ Ð¿Ð¾ÑÐ»Ðµ ÑÐµÑ€Ð¸Ð¸ Ñ€ÐµÐ»Ð¸Ð·Ð¾Ð² Ð¾Ñ‚Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½.", second: "Ð”Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ ÑÑ‚Ð°Ð½Ð¾Ð²ÑÑ‚ÑÑ ÑÐ¿Ð¾ÐºÐ¾Ð¹Ð½ÐµÐµ." },
  ],
  anchorStack: [
    { first: "âš¡ Ð ÐµÐ°ÐºÑ†Ð¸Ñ Ð½Ð° ÑÐµÑ€Ð¸ÑŽ Ð´Ð°Ð½Ð½Ñ‹Ñ…, Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ {event}, Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°.", second: "Ð˜Ð¼Ð¿ÑƒÐ»ÑŒÑ Ð¾ÑÐ»Ð°Ð±ÐµÐ²Ð°ÐµÑ‚." },
    { first: "âš¡ Ð‘Ð»Ð¾Ðº Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¹, Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ {event}, Ð¾Ñ‚Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½.", second: "Ð”Ð¸Ð½Ð°Ð¼Ð¸ÐºÐ° Ð²Ñ‹Ñ€Ð°Ð²Ð½Ð¸Ð²Ð°ÐµÑ‚ÑÑ." },
    { first: "âš¡ Ð¡ÐµÑ€Ð¸Ñ Ñ€ÐµÐ»Ð¸Ð·Ð¾Ð², Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ {event}, Ð·Ð°Ð²ÐµÑ€ÑˆÐ¸Ð»Ð°ÑÑŒ.", second: "ÐÐ¼Ð¿Ð»Ð¸Ñ‚ÑƒÐ´Ð° ÑÐ½Ð¸Ð¶Ð°ÐµÑ‚ÑÑ." },
    { first: "âš¡ Ð‘Ð»Ð¾Ðº Ð´Ð°Ð½Ð½Ñ‹Ñ…, Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ {event}, â€” Ð¿Ð¸ÐºÐ¾Ð²Ð°Ñ Ñ„Ð°Ð·Ð° Ð¿Ñ€Ð¾Ð¹Ð´ÐµÐ½Ð°.", second: "Ð”Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ ÑÑ‚Ð°Ð½Ð¾Ð²ÑÑ‚ÑÑ Ð¼ÐµÐ½ÐµÐµ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð½Ñ‹Ð¼Ð¸." },
    { first: "âš¡ ÐžÑÐ½Ð¾Ð²Ð½Ð°Ñ Ñ€ÐµÐ°ÐºÑ†Ð¸Ñ Ð½Ð° Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¸, Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ {event}, Ð¾Ñ‚Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½Ð°.", second: "ÐšÐ¾Ð»ÐµÐ±Ð°Ð½Ð¸Ñ ÑÐ¾ÐºÑ€Ð°Ñ‰Ð°ÑŽÑ‚ÑÑ." },
  ],
};

const GREEN = {
  single: [
    { first: "ðŸŸ¢ ÐžÐºÐ½Ð¾ Ð¿Ð¾Ð²Ñ‹ÑˆÐµÐ½Ð½Ð¾Ð¹ Ð²Ð¾Ð»Ð°Ñ‚Ð¸Ð»ÑŒÐ½Ð¾ÑÑ‚Ð¸ Ð·Ð°ÐºÑ€Ñ‹Ñ‚Ð¾.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð² ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ð¾Ð¹ Ñ„Ð°Ð·Ðµ." },
    { first: "ðŸŸ¢ Ð¤Ð°Ð·Ð° Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¸ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°.", second: "Ð”Ð¸Ð½Ð°Ð¼Ð¸ÐºÐ° ÑÑ‚Ð°Ð±Ð¸Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð°." },
    { first: "ðŸŸ¢ ÐŸÐµÑ€Ð¸Ð¾Ð´ Ð¿Ð¾Ð²Ñ‹ÑˆÐµÐ½Ð½Ð¾Ð¹ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ð¸ Ð·Ð°Ð²ÐµÑ€ÑˆÑ‘Ð½.", second: "ÐšÐ¾Ð»ÐµÐ±Ð°Ð½Ð¸Ñ Ð² Ñ€Ð°Ð±Ð¾Ñ‡ÐµÐ¼ Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½Ðµ." },
    { first: "ðŸŸ¢ ÐžÐºÐ½Ð¾ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ Ð·Ð°ÐºÑ€Ñ‹Ñ‚Ð¾.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð²ÐµÑ€Ð½ÑƒÐ»ÑÑ Ðº Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾Ð¼Ñƒ Ñ€Ð¸Ñ‚Ð¼Ñƒ." },
    { first: "ðŸŸ¢ ÐŸÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ñ Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð¾Ñ‚Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½Ð°.", second: "Ð”Ð¸Ð½Ð°Ð¼Ð¸ÐºÐ° Ð²Ñ‹Ñ€Ð¾Ð²Ð½ÐµÐ½Ð°." },
    { first: "ðŸŸ¢ ÐÐºÑ‚Ð¸Ð²Ð½Ð°Ñ Ñ„Ð°Ð·Ð° Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°.", second: "Ð Ñ‹Ð½Ð¾Ðº Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð¸Ñ€ÑƒÐµÑ‚ Ð² ÑˆÑ‚Ð°Ñ‚Ð½Ð¾Ð¼ Ñ€Ð¸Ñ‚Ð¼Ðµ." },
  ],
  cluster: [
    { first: "ðŸŸ¢ ÐžÐºÐ½Ð¾ ÑÐµÑ€Ð¸Ð¸ Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¹ Ð·Ð°ÐºÑ€Ñ‹Ñ‚Ð¾.", second: "Ð Ñ‹Ð½Ð¾Ðº Ð¿ÐµÑ€ÐµÑˆÑ‘Ð» Ð² Ð¾Ð±Ñ‹Ñ‡Ð½ÑƒÑŽ Ñ„Ð°Ð·Ñƒ." },
    { first: "ðŸŸ¢ Ð‘Ð»Ð¾Ðº Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð¾Ñ‚Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½.", second: "Ð”Ð¸Ð½Ð°Ð¼Ð¸ÐºÐ° ÑÑ‚Ð°Ð±Ð¸Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð°." },
    { first: "ðŸŸ¢ ÐŸÐµÑ€Ð¸Ð¾Ð´ Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¹ Ð·Ð°Ð²ÐµÑ€ÑˆÑ‘Ð½.", second: "ÐšÐ¾Ð»ÐµÐ±Ð°Ð½Ð¸Ñ Ð²ÐµÑ€Ð½ÑƒÐ»Ð¸ÑÑŒ Ð² Ñ€Ð°Ð±Ð¾Ñ‡Ð¸Ð¹ Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½." },
    { first: "ðŸŸ¢ Ð¡ÐµÑ€Ð¸Ñ Ñ€ÐµÐ»Ð¸Ð·Ð¾Ð² Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°.", second: "Ð Ñ‹Ð½Ð¾Ðº Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð¸Ñ€ÑƒÐµÑ‚ Ð² ÑˆÑ‚Ð°Ñ‚Ð½Ð¾Ð¼ Ñ€Ð¸Ñ‚Ð¼Ðµ." },
    { first: "ðŸŸ¢ ÐžÐºÐ½Ð¾ Ð¿Ð¾Ð²Ñ‹ÑˆÐµÐ½Ð½Ð¾Ð¹ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ð¸ Ð·Ð°ÐºÑ€Ñ‹Ñ‚Ð¾.", second: "Ð”Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ Ð½Ð¾Ñ€Ð¼Ð°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ñ‹." },
  ],
};

const shuffleQueues = {};

const pickFromPool = (poolKey, pool) => {
  if (!pool || pool.length === 0) return null;
  if (pool.length === 1) return pool[0];

  let queue = shuffleQueues[poolKey];
  if (!queue || queue.length === 0) {
    queue = Array.from({ length: pool.length }, (_, i) => i);
    for (let i = queue.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [queue[i], queue[j]] = [queue[j], queue[i]];
    }
    shuffleQueues[poolKey] = queue;
  }

  const idx = queue.shift();
  return pool[idx];
};

const getSafeMinutes = (payload) => {
  const raw = payload && Number.isFinite(payload.minutes_to_event)
    ? payload.minutes_to_event
    : 0;
  return Math.max(0, Math.ceil(raw));
};

const RU_EVENT_NAMES = {
  "NFP": "NFP",
  "FOMC Rate Decision": "Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ Ð¤Ð Ð¡",
  "US CPI": "CPI Ð¡Ð¨Ð",
  "ECB Rate Decision": "Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ Ð•Ð¦Ð‘",
  "BOE Rate Decision": "Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ Ð‘Ð°Ð½ÐºÐ° ÐÐ½Ð³Ð»Ð¸Ð¸",
  "BOJ Rate Decision": "Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ Ð‘Ð°Ð½ÐºÐ° Ð¯Ð¿Ð¾Ð½Ð¸Ð¸",
  "Powell Speech": "Ð²Ñ‹ÑÑ‚ÑƒÐ¿Ð»ÐµÐ½Ð¸Ðµ ÐŸÐ°ÑƒÑÐ»Ð»Ð°",
};

const translateEventName = (name) => {
  if (!name) return "";
  if (RU_EVENT_NAMES[name]) return RU_EVENT_NAMES[name];
  const lower = name.toLowerCase();
  for (const [key, value] of Object.entries(RU_EVENT_NAMES)) {
    if (key.toLowerCase() === lower) return value;
  }
  return name;
};

const getEventName = (payload) => {
  if (!payload) return "";
  const anchorLabel = String(payload.anchor_label || "").trim();
  if (anchorLabel) return translateEventName(anchorLabel);
  const name = String(payload.event_name || "").trim();
  if (payload.cluster_has_anchor && Array.isArray(payload.cluster_anchor_names)) {
    const first = payload.cluster_anchor_names
      .map((n) => translateEventName(String(n || "").trim()))
      .filter(Boolean)[0];
    if (first) return first;
  }
  return name && name !== "N/A" ? translateEventName(name) : "";
};

const getEventTimeFormatted = (payload) => {
  if (!payload || !payload.event_time) return "";
  const ms = Date.parse(payload.event_time);
  if (!Number.isFinite(ms)) return "";
  const d = new Date(ms);
  const hh = String(d.getUTCHours()).padStart(2, "0");
  const mm = String(d.getUTCMinutes()).padStart(2, "0");
  return `${hh}:${mm}`;
};

const capitalizeAfterEmoji = (line) =>
  line.replace(/^([\p{Emoji}\uFE0F\u200D]+\s*)(\p{Ll})/u, (_, prefix, char) => prefix + char.toUpperCase());

const applyPlaceholders = (phrase, payload) => {
  const minutes = getSafeMinutes(payload);
  const event = getEventName(payload);
  const time = getEventTimeFormatted(payload);
  const text = [phrase.first, phrase.second].join("\n");
  const filled = text
    .replace(/\{min\}/g, String(minutes))
    .replace(/\{event\}/g, event)
    .replace(/\{time\}/g, time);
  return filled.split("\n").map(capitalizeAfterEmoji).join("\n");
};

const resolveCategory = (payload) => {
  const isCluster = payload && Number.isFinite(payload.cluster_size) && payload.cluster_size > 1;
  const isAnchor = payload && (
    payload.impact_type === "anchor_high" ||
    payload.cluster_has_anchor === true
  );

  if (isCluster && isAnchor) return "anchorStack";
  if (isCluster) return "stack";
  if (isAnchor) return "anchor";
  return "high";
};

module.exports = {
  PRE_EVENT,
  DURING_EVENT,
  POST_EVENT,
  GREEN,
  pickFromPool,
  applyPlaceholders,
  resolveCategory,
  getSafeMinutes,
  getEventName,
  getEventTimeFormatted,
};
